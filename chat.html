<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Bharathi â€“ Messages</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{background:#f1f2f6;}
.chat-container{
  max-width:600px;margin:40px auto;background:#fff;
  border-radius:10px;box-shadow:0 0 15px rgba(0,0,0,.1);
  display:flex;flex-direction:column;height:80vh;
}
.chat-header{
  padding:15px;background:#0d6efd;color:#fff;
  text-align:center;font-weight:bold;
}
.chat-messages{
  flex:1;padding:15px;overflow-y:auto;display:flex;flex-direction:column;
}
.msg{margin-bottom:10px;max-width:75%;padding:10px;border-radius:10px;}
.user{background:#e9f1ff;align-self:flex-start;}
.admin{background:#0d6efd;color:#fff;align-self:flex-end;}
.chat-input{padding:10px;border-top:1px solid #ddd;display:flex;gap:10px;}
</style>
</head>

<body>

<div class="chat-container">
  <div class="chat-header">ðŸ’¬ Message Bharathi</div>
  <div id="chatMessages" class="chat-messages"></div>

  <div class="chat-input">
    <input id="name" class="form-control" placeholder="Your name">
    <input id="message" class="form-control" placeholder="Type a message">
    <button class="btn btn-primary" onclick="sendMessage()">Send</button>
  </div>
</div>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
var firebaseConfig={
  apiKey:"YOUR_API_KEY",
  authDomain:"bharathi-portfolio-chat.firebaseapp.com",
  databaseURL:"https://bharathi-portfolio-chat-default-rtdb.firebaseio.com",
  projectId:"bharathi-portfolio-chat"
};

if(!firebase.apps.length){
  firebase.initializeApp(firebaseConfig);
}
var database=firebase.database();

function sendMessage(){
  var name=document.getElementById("name").value.trim();
  var msg=document.getElementById("message").value.trim();

  if(!name||!msg){alert("Fill all fields");return;}

  database.ref("messages").push({
    name:name,
    message:msg,
    time:new Date().toLocaleString()
  });

  document.getElementById("message").value="";
}

database.ref("messages").on("child_added",snap=>{
  const d=snap.val();
  const box=document.getElementById("chatMessages");

  const user=document.createElement("div");
  user.className="msg user";
  user.innerHTML=`<b>${d.name}</b><br>${d.message}`;
  box.appendChild(user);

  if(d.reply){
    const admin=document.createElement("div");
    admin.className="msg admin";
    admin.innerHTML=`<b>Bharathi</b><br>${d.reply}`;
    box.appendChild(admin);
  }

  box.scrollTop=box.scrollHeight;
});
</script>

</body>
</html>
